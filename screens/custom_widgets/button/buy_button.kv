#:kivy 2.2.1
#: set CIRCLE_HEIGHT_RATIO 0.5

<BuyButton>:

    # Background
    canvas.before:
        Color:
            rgba: self.background_color
        RoundedRectangle:
            pos:(0,0)
            size:self.size
            radius:[20*self.font_ratio,]

    # Button title
    Label:
        text: root.button_title
        pos_hint: { "center_x":0.5,"center_y":0.8}
        size_hint: (1,0.7)
        text_size: (root.width*0.8,None)
        font_size: root.font_ratio * root.font_size
        font_name: root.text_font_name
        halign: "center"
        valign: "center"
        color: (0,0,0,1)

    

    Image:
        id: activated_image
        pos_hint: {"center_x":0.5, "center_y":0.4}
        size_hint: (0.4,0.4)
        source: PATH_ICONS + "check.png"
        fit_mode: "contain"
        color: (0,0,0,1)
    
    Widget:
        id: selection_circle
        size_hint: (0.8,0.5)
        # height: self.width
        # size_hint_max_x: 0.5
        pos_hint: {"center_x":0.5, "center_y":0.4}
        canvas:
            Color:
                rgba: (0,0,0,1)
            Line:
                circle:(root.width*0.5 ,root.height*0.4,min(self.height,root.width*0.8)/2)
                width: 1.5*root.font_ratio

    MoneyLayout:
        id: money_layout
        coins_count: root.price
        font_ratio: root.font_ratio
        size_hint: (0.4, 0.4)
        pos_hint: {"center_x": 0.5,"center_y":0.4}
